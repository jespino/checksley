/*! checksley 2013-11-07*/
/*! Version: 0.4.0 */
/*! License: BSD */
!function(){var ChecksleyFormDirective,ChecksleySubmitButtonDirective,module;ChecksleyFormDirective=function($parse){return{restrict:"A",link:function(scope,elm,attrs){var attachChecksley,callback,element,form,onFormSubmit;return element=angular.element(elm),element.on("submit",function(event){return event.preventDefault()}),callback=$parse(attrs.checksleyForm),onFormSubmit=function(ok){return scope.$apply(function(){return ok?callback(scope):void 0})},form=element.checksley({listeners:{onFormSubmit:onFormSubmit}}),attachChecksley=function(){return form.destroy(),form.initialize()},scope.$on("$includeContentLoaded",attachChecksley),scope.$on("checksley:reset",attachChecksley),scope.$watch("checksleyErrors",function(errors){return _.isEmpty(errors)?void 0:form.setErrors(errors)})}}},ChecksleySubmitButtonDirective=function(){return{restrict:"A",link:function(scope,elm){var element;return element=angular.element(elm),element.on("click",function(event){return event.preventDefault(),element.closest("form").trigger("submit")})}}},module=angular.module("checksley",[]),module.directive("checksleyForm",["$parse","$compile","$window",ChecksleyFormDirective]),module.directive("checksleySubmitButton",[ChecksleySubmitButtonDirective])}.call(this);
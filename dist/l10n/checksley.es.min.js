/*! checksley 2013-11-07*/
/*! Version: 0.4.0 */
/*! License: BSD */
!function(){var messages,validators;validators={es_dni:function(val){var letter,letters,number;return letters="TRWAGMYFPDXBNJZSQVHLCKET",val=val.replace("-",""),val=val.toUpperCase(),number=val.substring(0,val.length-1),letter=val[val.length-1],/\d+/.test(number)?!letters.indexOf(letter)<0?!1:letter===letters[parseInt(number,10)%23]:!1},es_postalcode:function(val){var provinceCode;return/^\d{5}$/.test(val)?(provinceCode=parseInt(val.substring(0,2),10),provinceCode>52||1>provinceCode?!1:!0):!1},es_ssn:function(val){var a,b,c,code,d;return val=val.replace(/[ \/-]/g,""),/^\d{12}$/.test(val)?(a=val.substring(0,2),b=val.substring(2,10),code=val.substring(10,12),d=parseInt(b,10)<1e7?parseInt(b,10)+1e7*parseInt(a,10):a+b.replace(/0*$/,""),c=parseInt(d)%97,c===parseInt(code)):!1},es_ccc:function(val){var account,controlCode,entity,firstCode,firstCodeMod,firstCodeResult,office,secondCode,secondCodeMod,secondCodeResult,weight,x,_i,_j;if(val=val.replace(/[ -]/g,""),!/\d{20}$/.test(val))return!1;for(weight=[1,2,4,8,5,10,9,7,3,6],entity=val.substring(0,4),office=val.substring(4,8),controlCode=val.substring(8,10),account=val.substr(10,20),firstCode="00"+entity+office,secondCode=account,firstCodeResult=0,x=_i=0;9>=_i;x=++_i)firstCodeResult+=parseInt(firstCode[x],10)*weight[x];for(firstCodeMod=firstCodeResult%11,firstCodeResult=11-firstCodeMod,10===firstCodeResult&&(firstCodeResult=1),11===firstCodeResult&&(firstCodeResult=0),secondCodeResult=0,x=_j=0;9>=_j;x=++_j)secondCodeResult+=parseInt(secondCode[x],10)*weight[x];return secondCodeMod=secondCodeResult%11,secondCodeResult=11-secondCodeMod,10===secondCodeResult&&(secondCodeResult=1),11===secondCodeResult&&(secondCodeResult=0),firstCodeResult===parseInt(controlCode[0])&&secondCodeResult===parseInt(controlCode[1])?!0:!1},es_cif:function(val){var controlCode,controlDigit,evenSum,letter,number,oddNumbers,oddSum,provinceCode,reminder,totalSum,x,_i,_len;if(val=val.replace(/-/g,"").toUpperCase(),!/^[ABCDEFGHJKLMNPRQSUVW]\d{7}[\d[ABCDEFGHIJ]$/.test(val))return!1;if(letter=val.substring(0,1),provinceCode=val.substring(1,3),number=val.substring(3,8),controlCode=val.substring(8,9),/[CKLMNPQRSW]/.test(letter)&&/\d/.test(controlCode))return!1;if(/[ABDEFGHJUV]/.test(letter)&&/[A-Z]/.test(controlCode))return!1;for(oddSum=parseInt(provinceCode[1],10)+parseInt(number[1],10)+parseInt(number[3],10),evenSum=0,oddNumbers=[parseInt(provinceCode[0],10),parseInt(number[0],10),parseInt(number[2],10),parseInt(number[4],10)],_i=0,_len=oddNumbers.length;_len>_i;_i++)number=oddNumbers[_i],x=2*number,x>=10&&(x=x%10+1),evenSum+=x;return totalSum=oddSum+evenSum,reminder=totalSum%10,controlDigit=0!==reminder?10-reminder:0,controlCode!==controlDigit.toString()&&"JABCDEFGHI"[controlDigit]!==controlCode?!1:!0}},messages={es_dni:"This value should be a valid DNI (Example: 00000000T).",es_cif:"This value should be a valid CIF (Example: B00000000).",es_postalcode:"This value should be a valid spanish postal code (Example: 28080).",es_ssn:"This value should be a valid spanish social security number.",es_ccc:"This value should be a valid spanish bank client account code."},this.checksley.updateValidators(validators),this.checksley.updateMessages("default",messages)}.call(this);